# 输入输出运算符重载

C++ 能够使用流提取运算符 `>>` 和流插入运算符 `<<` 来输入和输出内置的数据类型。可以重载流提取运算符和流插入运算符来操作对象等用户自定义的数据类型。

在这里，有一点很重要，我们需要把运算符重载函数声明为类的 **友元函数** ，这样我们就能不用创建对象而 **直接调用函数** 。

在开始之前，关于 `iostream` ：

![Untitled](Programming/Programming%20d6786caa2ba94b7983a41b4ab876f28f/C++/面向对象%20781207919bb34eff8503a1a7daf3abd9/重载%209ae3364f81e94298bd1e8887ef0c020e/运算符重载实例%208f9289bc907a403897bbc93d8ee718dd/4%20b71527b1a7634aea9dfad82b984af9af/输入输出运算符重载%206f7ce3a93ac54d998cf2a107a92ba2d3/Untitled.png)

**实例：**

```cpp
#include <iostream>
using namespace std;
class Distance{
   private:
      int feet;             // 0 到无穷
      int inches;           // 0 到 12
   public:
      // 所需的构造函数
      Distance(){
         feet = 0;
         inches = 0;
      }
      Distance(int f, int i){
         feet = f;
         inches = i;
      }
			**//友元函数也可以写在类的内部**
      friend ostream &operator<<( ostream &output, const Distance &D ){ 
         output << "F : " << D.feet << " I : " << D.inches;
         return output;            
      }
 
      friend istream &operator>>( istream  &input, Distance &D ){ 
         input >> D.feet >> D.inches;
         return input;            
      }
			//注意要传入IO流的引用
};
int main()
{
   Distance D1(11, 10), D2(5, 11), D3;
   cout << "Enter the value of object : " << endl;
   cin >> D3;
   cout << "First Distance : " << D1 << endl;
   cout << "Second Distance :" << D2 << endl;
   cout << "Third Distance :" << D3 << endl;
   return 0;
}
```

上面的实例使用到了友元函数，如果不使用友元函数，则使用起来就会有些许别扭：

```cpp
#include <iostream>
using namespace std;
class Distance{
    private:
        int feet;             // 0 到无穷
        int inches;           // 0 到 12
    public:
        // 所需的构造函数
        Distance(){
            feet = 0;
            inches = 0;
        }
        Distance(int f, int i){
            feet = f;
            inches = i;
        }
        ostream& operator<<( ostream & output){
		        output<<"feet："<<feet<<" inches："<<inches;
		        return output;
		    }
};
int main (){
    Distance d1(20,18),d2;
    d1<<cout;//相当于d1.operator<<(cout)
		d2<<d1<<cout;//也是可以的
}
```

**声明为成员函数就相当于定死了在将符号前面的对象传入函数。
但是声明为友元函数，相当于在全局声明了一个重载版的运算符，相当于调用函数**