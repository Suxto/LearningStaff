---
link: https://suxton.notion.site/ab1e6efadfde4d56a6e14c0c15d120c3
notionID: ab1e6efa-dfde-4d56-a6e1-4c0c15d120c3
---
[Problem - E1 - Codeforces](https://codeforces.com/contest/1744/problem/E1)
[[Table]]
**思路：**
最终的结果需要是 $a*b$ 的因数，所以需要先对 $a$ 和 $b$ 进行因数分解。然后直接枚举每一种可能性。

```cpp
#include <bits/stdc++.h>  
  
#define int long long  
#define i64 long long  
#define uint unsigned long long  
#define mod 1000000007  
#define MAXN 200010  
#define endl '\n'  
using namespace std;  
#define IO ios::sync_with_stdio(false);\  
    cin.tie(nullptr)  
int mx;  
typedef pair<int, int> pii;  
  
  
ostream &operator<<(ostream &o, pii p) {  
    o << '<' << (int) p.first << ',' << (int) p.second << '>';  
    return o;  
}  
  
template<typename T>  
ostream &operator<<(ostream &o, vector<T> &x) {  
//    o << "[";  
    for (auto i = x.begin(); i < x.end(); ++i) {  
//        if (i != x.begin()) o << ", ";  
        o << *i << ' ';  
    }  
//    o << "]" << endl;  
    return o;  
}  
  
template<typename T>  
istream &operator>>(istream &i, vector<T> &v) {  
    for (auto it = v.begin(); it < v.end(); ++it) {  
        cin >> *it;  
//        mx = max(mx, *it);  
    }  
    return i;  
}  
  
void solve() {  
    int a, b, c, d;  
    cin >> a >> b >> c >> d;  
  
    map<int, int> r;  
  
    auto div = [&](int x) {  
        for (int i = 2; i * i <= x; i++) {  
            if (x % i == 0) {  
                r[i]++;  
                x /= i;  
                i--;  
            }  
        }  
        if (x > 1) {  
            r[x]++;  
        }  
    };  
  
    div(a);  
    div(b);  
  
    std::array<i64, 2> ans{-1, -1};  
  
    function<void(map<int, int>::iterator, int)> dfs = [&](auto it, auto x) {  
        if (it == r.end()) {  
            auto y = a * b / x;  
            auto u = (a / x + 1) * x;//u > a
            auto v = (b / y + 1) * y;//v > y
            if (u <= c && v <= d) {  
                ans = {u, v};  
            }  
            return;  
        }  
        auto [p, t] = *it;  
        for (int i = 0; i <= t; i++) {  
            dfs(next(it), x);  
            x *= p;  
        }  
    };  
  
    dfs(r.begin(), 1ll);  
  
    cout << ans[0] << ' ' << ans[1] << endl;  
}  
  
signed main() {  
    IO;  
//    init();  
    int T = 1;  
    cin >> T;  
    while (T--) {  
        solve();  
    }  
    return 0;  
}
```