How to make it: Tutorial
Tags: DP
Time Created: May 4, 2022 12:43 AM

[Problem - D - Codeforces](https://codeforces.com/contest/1426/problem/D)

### 思路：

如果一个字串（头为i，尾为j，前置和为`sum[len]`）的和为0，那么它的头前置和和尾前置和相等→$sum[i]-sum[j]=0$。用这个性质就能得到以下思路：

1. 读入一个数字，加到前置和上，并塞入一个 `set`
2. 如果 `set` 中有这个数字，说明有一段字串的和为0， `ans++` 。由于我们已经在 `j-1` 位置上插入了一个极大的数，所以包含这一段的字串和不为0。于是我们可以将 `set` 清掉，将前置和设为 `arr[j]` 从而从 `j` 位置上重新开始计算。
3. **注意**： `set` 要设置为 `long long` ,sb问题，卡我两个小时。

### code

```cpp
#include<bits/stdc++.h>
#define MAXN 200010
#define INF 1e9
#define endl '\n'
#define IO ios::sync_with_stdio(false);cin.tie(0),cout.tie(0)
typedef long long ll;
using namespace std;
unordered_set<ll> s;
map<ll, bool> m;
int main() {
	IO;
	ll num;
	cin >> num;
	int ans = 0;
	ll temp = 0ll, a;
//	m[0] = 1;
	s.insert(0ll);
	for (ll i = 1; i <= num; i++) {
		cin >> a;
		temp += a;
		if (s.find(temp) != s.end()) {
			//if (m[temp]) {
			ans++;
			s.clear();
			s.insert(0);
//			m.clear();
//			m[0] = 1;
			temp = a;
		}
		//m[temp] = 1;
		s.insert(temp);
	}
	cout << ans;
}
```