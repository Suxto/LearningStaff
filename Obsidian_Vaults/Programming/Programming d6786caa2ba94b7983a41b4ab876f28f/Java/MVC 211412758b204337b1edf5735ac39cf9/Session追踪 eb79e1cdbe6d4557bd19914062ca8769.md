# Session追踪

1. 流程：
    1. 客户端第一次发请求，服务器分配一个 `session` ，并在响应报文中返回
    2. 客户端再发请求的时候，请求报文会带上 `session id` ，于是服务器知道谁在发请求
2. 常用 API
    
    ```java
    Httpsession session = requset.getSession()//获取当前的session，没有就新建一个
    Httpsession session = requset.getSession(false)//获取当前session，没有则返回null
    
    session.getId()//返回session的字符串
    session.isNew()//返回是否新建的布尔值
    
    session.getMaxInactiveInterval()//返回留存不活跃session的间隔时长，默认1800s（半小时）
    session.setMaxInactiveInterval(1800);//设置时长
    
    session.invalidate();//让会话立即失效
    
    ```
    
3. 保存作用域
    1. 可以向一个 `session` 对象，像map一样存入或删去 **多个** 属性
        
        ```java
        session.setAttribute("user","Suxton");//传入第一个是string，第二个是object
        session.getAttribute("user");//传入string，返回object
        session.removeAttribute("user");//传入string
        ```
        
    2. 保存的内容和 `session` 对应
4. s